@page "/pacientes"
@inherits IndexPage

<MudText Typo="Typo.h3">Pacientes</MudText>
<MudButton
    Variant="Variant.Filled"
    StartIcon="@Icons.Material.Filled.Add"
    Color="Color.Info"
    Size="Size.Large"
    Href="/pacientes/create"
    Class="mt-md-4 mb-4"
>
    Novo Paciente
</MudButton>

<MudDataGrid
    Items="@Patients"
    Filterable="false"
    SortMode="@SortMode.Single"
    Groupable="false"
>
    <Columns>
        <PropertyColumn Property="patient => patient.Name" />
        <PropertyColumn Property="patient => patient.Document" />
        <PropertyColumn Property="patient => patient.Email" />
        <PropertyColumn Property="patient => patient.PhoneNumber" />
        <PropertyColumn Property="patient => patient.BirthDate" Format="dd/MM/yyyy"/>

        <TemplateColumn>
            <CellTemplate>
                <MudStack row>
                    <MudFab
                        Size="Size.Small"
                        Label="Editar"
                        onclick="@(() => GoToUpdate(context.Item.Id))"
                        StartIcon="@Icons.Material.Filled.Edit"
                        Color="Color.Success"
                    />
                    <MudFab Size="Size.Small"
                        Label="Excluir"
                        onclick="@(() => DeletePatient(context.Item))"
                        StartIcon="@Icons.Material.Filled.Remove"
                        Color="Color.Error" />
                </MudStack>
            </CellTemplate>
        </TemplateColumn>
    </Columns>
</MudDataGrid>